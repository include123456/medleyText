{"_id":"SyZmSkSGf","title":"","body":{"entityMap":{},"blocks":[{"key":"ag6qs","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"59kd9","text":"懒加载的意义（在线demo预览）","type":"header-two","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"avok7","text":"尽管很多公司的网页都有一些限制，比如页面的最大的图片大小不得大于50k,也有很多图片优化工具fis3、gulp等等，但是如果图片太多还是会影响页面的加载速度，快则几十秒慢则几十分钟，这样会导致用户流失。","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"74fir","text":"图片的加载对页面的加载速度有很大影响！！所以，对于图片过多的页面，为了加速页面加载速度，所以很多时候我们需要将页面内未出现在可视区域内的图片先不做加载， 等到滚动到可视区域后再去加载。这样子对于页面加载性能上会有很大的提升，也提高了用户体验，即图片赖加载~","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c2slf","text":"原理","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5nfbp","text":"将页面中的img标签src指向一张小图片或者src为空，然后定义data-src（这个属性可以自定义命名，我才用data-src）属性指向真实的图片。","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"crscc","text":"当载入页面时，先把可视区域内的img标签的data-src属性值负给src，然后监听滚动事件，把用户即将看到的图片加载。这样便实现了懒加载。","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5uik7","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"u87f","text":"<!DOCTYPE html>","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8lg4i","text":"<html lang=\"en\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"81shg","text":"<head>","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2qaub","text":"    <meta charset=\"UTF-8\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"71osp","text":"    <title>图片赖加载</title>","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9916t","text":"    <meta name=\"renderer\" content=\"webkit\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"a78q5","text":"    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"91viq","text":"    <!-- 启用webAPP全屏模式-->","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fnsue","text":"    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"79p0d","text":"    <!-- 隐藏状态栏或者设置状态栏的颜色-->","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5jboe","text":"    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bpf27","text":"    <!-- 忽略数字自动识别为电话号码-->","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3uffn","text":"    <meta name=\"format-detection\" content=\"telephone=no\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8iltj","text":"    <!--控制缓存的失效日期 -->","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9cmha","text":"    <meta http-equiv=\"Expires\" content=\"-1\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dp1vd","text":"    <!-- 禁止转码-->","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bs6oi","text":"    <meta http-equiv=\"Cache-Control\" content=\"no-cache\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f2d5i","text":"    <!-- 禁止缓存访问页面-->","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7vek7","text":"    <meta http-equiv=\"Pragma\" content=\"no-cache\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"71ihu","text":"    <meta name=\"applicable-device\" content=\"mobile\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d0ojl","text":"    <!-- 页面关键词-->","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"rcrk","text":"    <meta content=\"\" name=\"keywords\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7fpih","text":"    <meta name=\"description\" content=\"\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"chmab","text":"    <link rel=\"stylesheet\" href=\"css/img_lazy.css\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9p4ed","text":"</head>","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fqvag","text":"<body>","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d45i","text":"    <div class=\"main\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f9if8","text":"        <img src=\"\" data-src=\"images/1.jpg\" alt=\"\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cd8k1","text":"        <img src=\"\" data-src=\"images/2.jpg\" alt=\"\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6rcg5","text":"        <img src=\"\" data-src=\"images/3.jpg\" alt=\"\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"vfut","text":"        <img src=\"\" data-src=\"images/4.jpg\" alt=\"\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ceeun","text":"        <img src=\"\" data-src=\"images/5.jpg\" alt=\"\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ah38o","text":"        <img src=\"\" data-src=\"images/6.jpg\" alt=\"\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"aqbun","text":"        <img src=\"\" data-src=\"images/7.jpg\" alt=\"\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2obbo","text":"        <img src=\"\" data-src=\"images/8.jpg\" alt=\"\">","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fggv5","text":"    </div>","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5omq6","text":"<!--图片赖加载的JS-->","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8lu5e","text":"    <script src=\"js/imgLazyLoad.js\"></script>","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"256sf","text":"</body>","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5njiv","text":"</html>","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1ovhv","text":"","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bqi85","text":"","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"897go","text":"*{","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2j3ln","text":"    margin: 0;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d3n1u","text":"    padding: 0;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"76e8d","text":"    box-sizing: border-box;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d4f6u","text":"    list-style: none;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"95sgf","text":"    border: 0;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3cs3t","text":"    outline: 0;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cjt1g","text":"}","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4uphm","text":".main{","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3jurs","text":"    max-width: 640px;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"26rn4","text":"    width: 100%;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7qtas","text":"    margin: 0 auto;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"38onq","text":"}","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6dqa4","text":"img{","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8kmqa","text":"    display: block;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f78uo","text":"    width: 100%;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6j52r","text":"    height: 640px;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5qg9e","text":"}","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7puqh","text":"","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bun8k","text":"","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"48fim","text":"/**","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1jdnc","text":" * Created by Administrator on 2016/11/28.","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d7fhf","text":" */","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"e223u","text":"!function(){","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"61sep","text":"    var imgs = document.getElementsByTagName(\"img\");","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5eleu","text":"    var num = imgs.length;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4vtpb","text":"    var n = 0; //存储图片加载到的位置，避免每次都从第一张图片开始遍历","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"crdbj","text":"    lazyload(); //页面载入完毕加载可是区域内的图片","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5ptcp","text":"    window.onscroll = lazyload;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3t0v1","text":"    function lazyload() { //监听页面滚动事件","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"bpvjf","text":"        var seeHeight = document.documentElement.clientHeight; //可见区域高度","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f0i6f","text":"        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; ","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5qsp9","text":"        //滚动条距离顶部高度","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cpp6c","text":"        for (var i = n; i < num; i++) {","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dk7a8","text":"            if (imgs[i].offsetTop < seeHeight + scrollTop) {","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"mu15","text":"                if (imgs[i].getAttribute(\"src\") == \"\") {","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fs7g","text":"                    imgs[i].src = imgs[i].getAttribute(\"data-src\");","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"eg922","text":"                }","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dj66v","text":"                n = i + 1;","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"10hkr","text":"            }","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6crmo","text":"        }","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fke70","text":"    }","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5ck5c","text":"}();","type":"custom-code-block-html","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"eeau2","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8qr5f","text":" ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c1d7k","text":"将页面中的img标签src指向一张小图片或者src为空，然后定义data-src（这个属性可以自定义命名，我才用data-src）属性指向真实的图片。","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9b6h3","text":"当载入页面时，先把可视区域内的img标签的data-src属性值负给src，然后监听滚动事件，把用户即将看到的图片加载。这样便实现了懒加载","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}]},"dateCreated":"2017-12-18T06:50:01.185Z","lastUpdated":"2017-12-18T06:51:22.149Z","notebookId":"BkzYNxSez"}
